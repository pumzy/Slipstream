{"version":3,"sources":["webpack:///webpack/bootstrap a6f14a3288f4ef15f6ed","webpack:///./lib/obstacle.js","webpack:///./lib/powerup.js","webpack:///./lib/slipstream.js","webpack:///./lib/vehicle.js","webpack:///./lib/platform.js","webpack:///./lib/platform-arrays.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC3DA;AACA;;;;;;;;;;;;;;;AAeA;AACA;;;;AAIA;;;AAGA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,mBAAmB,qBAAqB;AACxC,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,qBAAqB;AACtC,oBAAoB,gHAAgH;AACpI;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;ACpFA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA,iBAAiB,iBAAiB;;AAElC,qBAAqB,gHAAgH;AACrI;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;;;AAGA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AAAA;AAAA;;AAEA;AACA;;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,qBAAqB,uBAAuB;AAC5C,oEAAoE,qEAAqE,KAAK,oBAAoB;AAClK;;AAEA,GAAG;;;;;;;;;AASH;AACA,gCAAgC,uCAAuC;AACvE;;;;;AAKA;AACA;AACA,qCAAqC;AACrC,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,mDAAmD,mCAAmC;AACtF,OAAO;AACP;AACA;;AAEA;AACA,sDAAsD,kCAAkC;AACxF,OAAO;AACP;AACA;AACA,mDAAmD,UAAU,sCAAsC;AACnG,wDAAwD,kCAAkC;AAC1F,SAAS;AACT;AACA;AACA;AACA;;;;;;;;;;;;;AAaA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2CAA2C;AAC7D;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA,gDAAgD,mBAAmB,sCAAsC;AACzG,iDAAiD,kBAAkB;AACnE,KAAK;AACL;AACA,gDAAgD,mBAAmB,sCAAsC;AACzG,iDAAiD,kBAAkB;AACnE;;;;;;AAMA,eAAe;AACf;AACA;AACA;AACA;AACA,6BAA6B,kBAAkB;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;AAIA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,QAAQ;AACR;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA,+BAA+B,kBAAkB;;AAEjD;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/ZA,cAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,YAAY;AACZ;AACA;AAAA;AAAA;;AAEA;;AAEA,YAAY;AACZ;AACA;AACA;AAAA;AAAA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AAAA;AAAA;;AAEA;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACnMD;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;AAIA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;;;AAGA;AACA;;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;AC1EA;AACA,GAAG,2FAA2F;AAC9F,GAAG,4FAA4F;AAC/F,GAAG,4FAA4F;AAC/F,GAAG;AACH;AAAA;AAAA;;AAEA;;AAEA;;AAEA;AACA;AACA,GAAG,2HAA2H;AAC9H,GAAG,4HAA4H;AAC/H,GAAG,4HAA4H;AAC/H,GAAG;AACH;AACA,GAAG,2HAA2H;AAC9H,GAAG,4HAA4H;AAC/H,GAAG,6HAA6H;AAChI,GAAG;AACH;AACA,GAAG,2HAA2H;AAC9H,GAAG,yHAAyH;AAC5H,GAAG,4HAA4H;AAC/H,GAAG;AACH;AACA,GAAG,2HAA2H;AAC9H,GAAG,2HAA2H;AAC9H,GAAG,4HAA4H;AAC/H,GAAG;AACH;AACA,GAAG,2HAA2H;AAC9H,GAAG,2HAA2H;AAC9H,GAAG,2HAA2H;AAC9H,GAAG;AACH;AACA;;;AAGA;;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AAAA;AAAA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a6f14a3288f4ef15f6ed","\n\nexport var obstacleimage = new Image()\nobstacleimage.src = \"assets/images/obstacle.png\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport var obstacles = [];\nexport var idBreakpoint;\n\n\n\nexport const init = (context, platform, id, token) => {\n\n\n  if (token === \"regen\"){\n\n    if (id === 3){\n      idBreakpoint = platform.id;\n    }\n    clearObstacles(idBreakpoint - 2);\n\n\n    if (id >= 3){\n    for (let i = 0; i < calcObstacles(); i++) {\n      let newobstacle = {x: (platform.x + (platform.width - (i+1)*350)), y: platform.y - 15, image: obstacleimage, platformID: platform.id}\n      obstacles.push(newobstacle)\n      context.drawImage(obstacleimage,newobstacle.x,(newobstacle.y - 20),30,40)\n    }\n\n    return obstacles.filter(obstacle => (\n      obstacle.platformID === platform.id\n    ))\n  }}\n\n  for (let i = 0; i < calcObstacles(); i++) {\n    obstacles.push({x: (platform.x + (platform.width - (i+1)*350)), y: platform.y - 15, image: new Image(), platformID: platform.id})\n  }\n\n  for (let i = 0; i < obstacles.length; i++) {\n    context.drawImage(obstacleimage,obstacles[i].x,(obstacles[i].y - 20),30,40)\n  }\n\n  return obstacles.filter(obstacle => (\n    obstacle.platformID === platform.id\n  ))\n\n}\n\nexport const move = (context, platform, id) => {\n  for (let i = 0; i < obstacles.length; i++) {\n    if(platform.id === obstacles[i].platformID)\n    obstacles[i].x  -= platform.speed\n    context.drawImage(obstacleimage,obstacles[i].x,(obstacles[i].y - 20),30,40)\n  }\n\n    let filter = obstacles.filter(obstacle =>(\n      obstacle.platformID === platform.id)\n    )\n    return filter\n}\n\nexport const clearObstacles = (num) => {\n  if (num){\n    obstacles = obstacles.filter(obstacle => obstacle.platformID >= num)\n  } else obstacles = [];\n}\n\nexport const restartFind = (id) => {\n  return obstacles.filter(obstacle => (\n    obstacle.platformID === id\n  ))\n}\n\nexport const calcObstacles = () => (\n  Math.floor(Math.random() * 2)\n)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/obstacle.js\n// module id = 0\n// module chunks = 0","\n\n\nexport var powercubes = [];\nexport var idBreakpoint;\n\nexport const init = (context, platform, id, token) => {\n\n if (token === \"regen\"){\n\n   if (id === 3){\n     idBreakpoint = platform.id;\n   }\n   clearpowercubes(idBreakpoint - 2);\n\n\n   if (id >= 3){\n   for (let i = 0; i < calcCubes(); i++) {\n     let cubepic = new Image()\n     let randomno = Math.floor(Math.random() * (3) + 1)\n     randomno === 1 ? cubepic.src = \"assets/images/powercube_purple.png\" : randomno === 2 ? cubepic.src = \"assets/images/powercube_green.png\" : cubepic.src = \"assets/images/powercube_white.png\"\n     let newcube = {x: (platform.x + (platform.width - (i+1)*200)), y: platform.y - 15, image: cubepic, platformID: platform.id}\n     powercubes.push(newcube)\n     context.drawImage(cubepic,newcube.x,newcube.y,15,15)\n   }\n\n   return powercubes.filter(cube => (\n     cube.platformID === platform.id\n   ))\n\n }}\n\n\n  for (let i = 0; i < calcCubes(); i++) {\n\n    powercubes.push({x: (platform.x + (platform.width - (i+1)*200)), y: platform.y - 15, image: new Image(), platformID: platform.id})\n  }\n\n  for (let i = 0; i < powercubes.length; i++) {\n    let randomno = Math.floor(Math.random() * (3) + 1)\n    randomno === 1 ? powercubes[i].image.src = \"assets/images/powercube_purple.png\" : randomno === 2 ? powercubes[i].image.src = \"assets/images/powercube_green.png\" : powercubes[i].image.src = \"assets/images/powercube_white.png\"\n    context.drawImage(powercubes[i].image,powercubes[i].x,powercubes[i].y,15,15)\n  }\n\n  return powercubes.filter(cube => (\n    cube.platformID === platform.id\n  ))\n\n}\n\n\nexport const move = (context, platform, speed, popped) => {\n  for (let i = 0; i < powercubes.length; i++) {\n    if(platform.id === powercubes[i].platformID && !popped.includes(powercubes[i].x)){\n    powercubes[i].x -= platform.speed\n    context.drawImage(powercubes[i].image,powercubes[i].x,powercubes[i].y,15,15)\n\n  } else if (platform.id === powercubes[i].platformID && popped.includes(powercubes[i].x)){\n      powercubes[i].src = \"\"\n      powercubes[i].y = -100\n  }}\n\n\n  let filter = powercubes.filter(cube =>(\n    cube.platformID === platform.id)\n  )\n  return filter\n\n}\n\nexport const clearpowercubes = (num) => {\n  if (num){\n    powercubes = powercubes.filter(powercube => powercube.platformID >= num)\n  } else powercubes = []\n}\n\nexport const idMap = (num) => {\n  return powercubes.filter(cube => cube.platformID <= num)\n\n}\n\nexport const calcCubes = () => (\n  Math.floor(Math.random() * (3 - 0 + 1))\n)\n\nexport const restartFind = (id) => {\n  return powercubes.filter(cube => (\n    cube.platformID === id\n  ))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/powerup.js\n// module id = 1\n// module chunks = 0","import * as Vehicle from './vehicle.js'\nimport * as Platform from './platform.js'\nimport * as Obstacle from './obstacle.js'\nimport * as PowerCube from './powerup.js'\n// import * as Util from './util.js'\n\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = $(\"canvas\")[0]\n  const context = canvas.getContext(\"2d\")\n  const width = 800\n  const height = 400\n  // var highscores = [];\n  var interval_id;\n  var player;\n  var platforms;\n  var previousplatform;\n  var score = 0;\n  var pause = {clicked: false, gamePaused: false}\n  var token;\n  var lives = 5;\n\tvar started = false;\n\tvar ended = false;\n  var gamebackground = new Image()\n  gamebackground.src = \"assets/images/starbackground.jpg\"\n  var startbackground = new Image()\n  startbackground.src = \"assets/images/buggati8bit.jpg\"\n  var scoresRef = firebase.database().ref(\"scores\")\n\n\n  scoresRef.orderByChild(\"score\").limitToLast(5).on('value', (snapshot, highscores) => {\n    $(\".leaderboard-li\").remove()\n    highscores = []\n      snapshot.forEach((childSnapshot) => {\n          highscores.push((childSnapshot.val()));\n      });\n      highscores = highscores.reverse()\n      for (var i = 0; i < highscores.length; i++) {\n        $(\".leaderboard-list\").append(`<li class='leaderboard-li'>${highscores[i].username ? highscores[i].username : \"Anonymous Rider\" } : ${highscores[i].score} </li> `)\n      }\n\n  });\n\n\n\n\n\n\n\n\n  const deleteCookie = (name) => {\n    document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n  }\n\n\n\n\n  const readCookie = (name) => {\n    let nameEQ = name + \"=\";\n    let ca = document.cookie.split(';');\n    for(let i=0;i < ca.length;i++) {\n      let c = ca[i];\n      while (c.charAt(0)==' ') c = c.substring(1,c.length);\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n  }\n\n\n\tconst startScreen = () => {\n\t\tif (started === false){\n      context.clearRect(0,0, width, height)\n      if (readCookie(\"slipstream_highscore\") !== null){\n        $(\".highscore\").append(`<span id=\"test\"> ${readCookie(\"slipstream_highscore\")}</span>`)\n      } else {\n        $(\".highscore\").append(`<span id=\"test\"> none</span>`)\n      }\n\n      if (readCookie(\"slipstream_username\") !== null){\n        $(\".username\").append(`<span id=\"userspan\"> ${readCookie(\"slipstream_username\")}</span>`)\n      } else {\n        let username = window.prompt(\"Hello Friend! Please Enter a Username\")\n        if (username){\n          document.cookie = `slipstream_username=${username}; expires=Fri, 3 Aug 2022 20:47:11 UTC; path=/`;\n          $(\".username\").append(`<span id=\"userspan\"> ${readCookie(\"slipstream_username\")}</span>`)\n        } else {\n          $(\".username\").append(`<span id=\"userspan\">Anonymous Rider</span>`)\n        }\n      }\n\t\t}\n\n\n\n\n\n\n\n\n\n\n\n\n\t}\n\n\tconst endScreen = () => {\n    let newscore = firebase.database().ref(\"scores\").push()\n    window.newscore = newscore\n    let username = readCookie(\"slipstream_username\")\n    if (!username){\n      username = \"Anonymous Rider\"\n    }\n    newscore.set({username: username, score: parseInt(score)})\n\t\tstarted = false\n    let highScore =  readCookie(\"slipstream_highscore\")\n    if (highScore !== null && (Math.floor(score) > parseInt(highScore))){\n      let scoretext = \" \" + `${Math.floor(score)}`\n      $(\"#test\").remove()\n      deleteCookie(\"slipstream_highscore\")\n      document.cookie = `slipstream_highscore=${Math.floor(score)}; expires=Fri, 3 Aug 2022 20:47:11 UTC; path=/`;\n      $(\".highscore\").append(`<span id=\"test\"> ${Math.floor(score)}</span>`)\n    } else if(!highScore){\n      $(\"#test\").remove()\n      document.cookie = `slipstream_highscore=${Math.floor(score)}; expires=Fri, 3 Aug 2022 20:47:11 UTC; path=/`;\n      $(\".highscore\").append(`<span id=\"test\"> ${Math.floor(score)}</span>`)\n    }\n\n\n\n\n\n\t\tvar pause = {clicked: false, gamePaused: false}\n\t\ttoken = null;\n\t\tlives = 5;\n\t\tstarted = false\n\t\tcontext.fillText(`You Lose, press Enter to restart`, 200, 200)\n\t\tcontext.fillText(`Score: ${Math.floor(score)}`, 350, 100)\n    score = 0;\n    platforms = Platform.clearPlatforms()\n\n\t\tif (ended === false){\n\t\t\tcontext.beginPath();\n\t\t\tcontext.globalCompositeOperation = \"source-over\";\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tinit()\n\t\t}\n\n\t}\n\n\n\n\n  context.fillStyle = \"white\"\n  context.fillRect(0,0,width,height)\n  context.strokeStyle = \"black\";\n  context.strokeRect(0, 0, width, height);\n\n  var pausebutton = new Image()\n  pausebutton.src = \"assets/images/pause_button.png\"\n\n\n\tconst drawLives = () => {\n\t\tlet currentpos = 30\n\n\t\tfor (var i = 0; i < lives; i++) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.arc(currentpos, 60, 15, 0, 2 * Math.PI, false);\n\t\t\tcontext.fillStyle = '#099cff';\n\t\t\tcontext.fill();\n\t\t\tcontext.lineWidth = 3;\n\t\t\tcontext.strokeStyle = '#099cff';\n\t\t\tcontext.stroke();\n\t\t\tcontext.lineWidth = 1;\n\t\t\tcontext.strokeStyle = 'white';\n\t\t\tcontext.stroke();\n\t\t\tcurrentpos += 35\n\t\t}\n\t\tfor (var i = 0; i < (5 - lives); i++) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.arc(currentpos, 60, 15, 0, 2 * Math.PI, false);\n\t\t\tcontext.lineWidth = 3;\n\t\t\tcontext.strokeStyle = '#099cff';\n\t\t\tcontext.stroke();\n\t\t\tcontext.lineWidth = 1;\n\t\t\tcontext.strokeStyle = 'white';\n\t\t\tcontext.stroke();\n\t\t\tcurrentpos += 35\n\t\t}\n\n\t\tcontext.fillStyle = 'white';\n\n\t}\n\n\n\n  const init = (token) => {\n\n\t\tcontext.clearRect(0,0, width, height)\n\n\t\tif (lives === 5){\n\t\t\tcontext.drawImage(gamebackground,0, 0, width , height);\n\t\t\tplatforms = Platform.clearPlatforms()\n\t\t\tplatforms = Platform.init(context, token)\n\t\t\tplayer = Vehicle.init(context)\n\t\t\tinterval_id = setInterval(move, 1000/60);\n\t\t\treturn\n\t\t}\n\n    if (lives > 0){\n      context.drawImage(gamebackground,0, 0, width , height);\n\t\t\tplayer = Vehicle.init(context)\n\t\t\tplatforms = Platform.init(context, token)\n      interval_id = setInterval(move, 1000/60);\n    } else {\n    }\n\n  }\n\n  const onPlatform = (array) => {\n\t\tif (array){\n\t    for (var i = 0; i < array.length; i++) {\n\t      if ((player.x + 60 > array[i].x) && (player.x < array[i].x + 775) && (player.y < array[i].y) ) return true;\n\t    }\n\t}\n    return false;\n  }\n\n  const move = () => {\n\n    context.clearRect(0,0, width, height)\n    context.drawImage(gamebackground, 0 , 0, width, height);\n\n\t\tdrawLives()\n    context.drawImage(pausebutton,740,10,50,50)\n    score += 0.01;\n\n\n    let currentPlatform;\n\n    if (onPlatform(platforms)) {\n      let cp;\n      for (var i = 0; i < platforms.length; i++) {\n        if ((player.x + 60 > platforms[i].x) && (player.x < platforms[i].x + (platforms[i].width - 15)) && player.y <= platforms[i].y - 20){\n           if (!cp || platforms[i].y < cp.y){\n             cp = platforms[i];\n           }\n        }\n      }\n      if (cp){\n        currentPlatform = cp;\n      }\n    }\n\n\n\n\n\n    if (currentPlatform){\n      previousplatform = currentPlatform;\n    }\n\n\n    if (currentPlatform && player.token === \"start\"){\n      player = Vehicle.move(currentPlatform)\n      platforms = Platform.move(context)\n    }\n    else if (currentPlatform) {\n      platforms = Platform.move(context)\n      player = Vehicle.move(currentPlatform)\n    }\n    else if (!currentPlatform && player.jumping === true){\n      player = Vehicle.move(previousplatform)\n      platforms = Platform.move(context)\n    }\n    else if (!currentPlatform){\n      token = \"falling\"\n      player = Vehicle.move(previousplatform, \"falling\")\n      platforms = Platform.move(context)\n    }\n\n    // loseconditions\n\n    if (player.y >= 400){\n      clearInterval(interval_id)\n      player = Vehicle.resetVehicle()\n      lives -=1;\n\t\t\tif (lives > 0) {\n\t\t\t\tinit(\"restart\")\n\t\t\t} else {\n\t\t\t\tended = true\n\t\t\t\tendScreen();\n\t\t\t}\n    }\n\n\n\n    for (var i = 0; i < platforms.length; i++) {\n\t\t\t\tif (platforms[i].obstacles) {\n\t\t      if (inObstacleArray(platforms[i]) !== false){\n\n\t\t        clearInterval(interval_id)\n\t\t        player = Vehicle.resetVehicle()\n\t\t\t\t\t\tlives -= 1\n\n\t\t\t\t\t\tif (lives > 0) {\n\t\t\t\t\t\t\tinit(\"restart\")\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tended = true\n\t\t\t\t\t\t\tendScreen()\n\t\t\t\t\t\t}\n\n\t      } else if (inPCA(platforms[i]) !== false ){\n\t\t\t\t  let currentCube = inPCA(platforms[i])\n\t\t\t\t\t platforms[i].popped.push(currentCube.x)\n\t\t\t\t\t score += 10;\n\t\t\t }\n\n\n\t\t }\n\t\t}\n\n\n\n\t\t// context.font = \"normal normal 20px comic sans\";\n\t\tcontext.font         = '30px Arcade-Classic';\n    context.fillText(`Score: ${Math.floor(score)}`, 16, 30)\n\n    if (currentPlatform === platforms[platforms.length - 1]) {\n      clearInterval(interval_id)\n\t\t\tplatforms = Platform.generatePlatforms(context)\n      interval_id = setInterval(move, 1000/60);\n\n    }\n  }\n\n\n  const handlePause = () => {\n    if (pause.clicked === true && pause.gamePaused === false){\n      clearInterval(interval_id)\n      pause.gamePaused = true\n      pause.clicked = false\n    } else if (pause.clicked === true && pause.gamePaused === true){\n      interval_id = setInterval(move, 1000/60)\n      pause.clicked = false;\n      pause.gamePaused = false;\n    }\n  }\n\n\n  const handleClick = (e) => {\n    let horizontalpos = e.clientX - e.target.offsetLeft\n    let verticalpos = e.clientY - e.target.offsetTop\n\n    if ((horizontalpos >= 740 && horizontalpos <= 790) && (verticalpos >= 10 && verticalpos <= 60)){\n      pause.clicked = true\n      handlePause();\n    }\n  }\n\n  const inPCA = (platform) => {\n    let cubes = platform.powercubes\n    for (let j = 0; j < cubes.length; j++) {\n       if ((player.x <= cubes[j].x - 44 && player.x >= cubes[j].x - 53 ) && player.y >= cubes[j].y - 30 && onPlatform(platforms) && player.y <= cubes[j].y + 10){\n         return cubes[j];\n       }\n    }\n    return false\n  }\n\n  const inObstacleArray = (platform) => {\n    let obstacles = platform.obstacles\n    for (let j = 0; j < obstacles.length; j++) {\n       if ((player.x > obstacles[j].x - 50 && player.x < obstacles[j].x) && (player.y > obstacles[j].y - 30 && player.y < obstacles[j].y + 30)){\n         return obstacles[j];\n       }\n    }\n    return false\n  }\n\n\n\tstartScreen()\n\n\n  $(window).keypress((e) => {\n\n\t\tif(started === false && ended === false && e.keyCode === 13){\n\t\t\tstarted = true\n\t\t\tinit()\n\t\t} else if(started === false && ended === true){\n\t\t\tended = false\n\t\t}\n    if (e.keyCode === 112) {\n     pause.clicked = true;\n     handlePause()\n   }\n })\n\n $(window).click(e => {\n   handleClick(e);\n })\n})\n\nwindow.onload=function(){\n  let canvas = $(\"canvas\")[0]\n  let context = canvas.getContext(\"2d\")\n  let width = 800\n  let height = 400\n  var startbackground = new Image()\n  startbackground.src = \"assets/images/buggati8bit.jpg\"\n  context.drawImage(startbackground, 0, 0, width, height);\n  context.strokeStyle = \"green\"\n  context.lineWidth = 3;\n  context.strokeRect(155, 12, 500, 50)\n  context.font  = '40px Arcade-Classic';\n  context.fillText(`Press Enter to start`, 200, 50)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/slipstream.js\n// module id = 2\n// module chunks = 0","\n\n\nexport var player = {x: 400, y: 0, falljumped: false, jumping: true, direction: null, token: \"start\", doublejumping: false, falling: false}\nexport var vehicleimg = new Image()\nvehicleimg.src = \"assets/images/vehicle.png\"\nvar platform;\nvar doublejumpstart;\nvar doublejumped = false;\nvar falljumpstart;\nvar startpos;\nvar gravity = 12;\nvar platjumpstart;\n\n\nexport const resetVehicle = () => {\n  player = { }\n  return player\n}\n\nexport const init = (context) => {\n\n  player = {x: 400, y: 0, jumping: true, direction: null, falljumped: false, token: \"start\", doublejumping: false, falling: false}\n  context.drawImage(vehicleimg,player.x,player.y,60,30)\n  return player\n}\n\n\nexport const move = (plat, token) => {\n\n\n  if (player.token === \"start\"){\n    startpos = plat.y - 20;\n    player.jumping = false\n  }\n  else if (token === \"falling\"){\n    player.token = \"falling\"\n  }\n  else if(player.y > platjumpstart && player.y > plat.y - 20){}\n  else{\n    player.token = null;\n\n  }\n\n\n\n\n  platform = plat;\n  const canvas = $(\"canvas\")[0]\n  const context = canvas.getContext(\"2d\")\n\n\n  if  (startpos && player.y === startpos){\n  player.token = null;\n  startpos = null;\n  doublejumped = false\n  doublejumpstart = null;\n  player.token = null;\n  falljumpstart = null;\n  player.falljumped = false;\n\n  }\n   else if  (startpos && player.y < startpos){\n    player.y += 5\n  } else if (doublejumpstart && player.y < platform.y-20 && doublejumpstart > platform.y - 20 && player.y + gravity > platform.y - 20 && player.doublejumping === false ){\n      player.y = platform.y - 20;\n    } else if (platjumpstart && player.y < platform.y-20 && platjumpstart > platform.y - 20 && player.y + gravity >= platform.y - 20 && player.jumping === false && !doublejumpstart ){\n      player.y = platform.y - 20;\n    }\n\n  else if (player.y <= (doublejumpstart - 78) && player.doublejumping === true) {\n    player.doublejumping = false\n    player.jumping = false\n    gravity = 1;\n    player.y += gravity\n    gravity += 1\n  }\n  else if (player.y < (doublejumpstart) && player.doublejumping === true && (player.y < platform.y - 20)) {\n    player.y -= gravity\n    gravity -= 1;\n  }\n  else if ((player.y < (doublejumpstart)) && player.doublejumping === false && (player.y < platform.y - 20)) {\n    player.y += gravity\n    gravity += 1;\n  }\n  else if (player.y === (doublejumpstart) && player.doublejumping === true && (player.y < platform.y - 20)) {\n    gravity = 12;\n    player.y -= gravity\n    gravity -= 1\n  }\n\n\n  else if (player.token === \"falling\" && player.jumping === false ){\n    player.y += 5;\n  } else if  (falljumpstart && player.jumping === true && player.y === falljumpstart){\n\n      gravity = 12;\n      player.y -= gravity\n      gravity -= 1;\n    }\n  else if  (falljumpstart && player.jumping === true && player.y > falljumpstart - 78 ){\n    player.y -= gravity\n    gravity -= 1;\n  }\n  else if  (falljumpstart && player.jumping === true && player.y <= falljumpstart - 78 && (player.y < platform.y - 20)){\n    falljumpstart = null;\n    player.jumping = false;\n    gravity = 1;\n    player.y += gravity;\n    gravity += 1;\n  }\n   else if ((player.y <= (platjumpstart - 98)  ||  (player.y <= (platform.y - 98))) && player.jumping === true) {\n    player.jumping = false\n    gravity = 1;\n    player.y += gravity;\n    gravity += 1;\n    platjumpstart = null;\n  }\n  else if ((player.y + gravity) >= (platform.y - 20) && player.jumping === false && player.y !== platform.y - 20) {\n    player.y = platform.y - 20;\n  }\n   else if (player.y < (platform.y - 20) && player.jumping === false) {\n    player.y += gravity\n    gravity += 1;\n  }\n  else if (player.y === (platform.y - 20) && player.jumping === false){\n    doublejumped = false\n    doublejumpstart = null;\n    player.token = null;\n    falljumpstart = null;\n    gravity = 12;\n    platjumpstart = player.y\n\n  } else if (player.y <= (platform.y - 20) && player.jumping === true) {\n    player.y -= gravity\n    gravity -= 1;\n  }\n\n   else if (player.y > platform.y - 20 && player.jumping === false) {\n    player.token = \"falling\"\n  } else if (player.y > platform.y - 20 && player.jumping === true && player.y <= platjumpstart -78){\n    gravity = 1;\n    player.y -= gravity;\n    gravity +=1;\n    platjumpstart = null;\n    player.jumping = false;\n  } else if (player.y > platform.y - 20 && player.jumping === true && player.y <= platjumpstart){\n    player.y -= gravity;\n    gravity -= 1\n\n  } else if (player.y > platform.y - 20 && player.jumping === true && player.y > platjumpstart) {\n    player.jumping = false\n  } else {\n    debugger\n  }\n  context.drawImage(vehicleimg,player.x+10,player.y,60,30)\n\n  return player\n\n}\n\n$(window).keypress((e) => {\n\n\n  if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && player.token === \"start\" ){\n    e.preventDefault();\n    player.jumping = false;\n  } else if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && doublejumped === true){\n    return\n  }\n  else if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && player.token === \"falling\" && player.jumping === false && player.falljumped === false){\n    e.preventDefault();\n    player.jumping = true;\n    falljumpstart = player.y\n    player.falljumped = true;\n  } else if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && player.token === \"falling\" && player.jumping === true && doublejumped === false){\n    e.preventDefault();\n    player.doublejumping = true;\n    doublejumped = true;\n    doublejumpstart = player.y\n  }\n   else if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && (player.y === (platform.y - 20))) {\n   e.preventDefault();\n   player.jumping = true;\n } else if ((e.keyCode === 0 || e.keyCode === 32 || e.keyCode === 119) && (doublejumped === false)) {\n   e.preventDefault();\n   player.doublejumping = true;\n   doublejumped = true;\n   doublejumpstart = player.y\n }\n})\n\n$(window).keyup((e) => {\n  e.preventDefault()\n  player.direction = null;\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/vehicle.js\n// module id = 3\n// module chunks = 0","import * as Obstacle from './obstacle.js'\nimport * as PowerCube from './powerup.js'\nimport * as PlatformArrays from './platform-arrays.js'\n\n\nexport var platforms = PlatformArrays.initialPlatforms()\nvar difficuly = 3;\n\n\nexport const init = (context, token) => {\n  let gennum\n  if (token === \"regen\"){\n    gennum = 3\n  } else {\n    gennum = 0\n  }\n  // Obstacle.clearObstacles()\n  // PowerCube.clearpowercubes()\n\n  for (let i = gennum; i < platforms.length; i++) {\n    context.strokeStyle = \"#01a502\";\n    context.lineWidth = 5\n    context.strokeRect(platforms[i].x, platforms[i].y, platforms[i].width, 50);\n    if (token === \"restart\"){\n      platforms[i].obstacles = Obstacle.restartFind(i)\n      platforms[i].powercubes = PowerCube.restartFind(i)\n  } else if (token === \"regen\"){\n      platforms[i].obstacles = Obstacle.init(context, platforms[i], i, \"regen\")\n      platforms[i].powercubes = PowerCube.init(context, platforms[i], i, \"regen\")\n    } else {\n      platforms[i].obstacles = Obstacle.init(context, platforms[i], i)\n      platforms[i].powercubes = PowerCube.init(context, platforms[i], i)\n    }\n  }\n  return platforms\n}\n\n\n\nexport const move = (context) => {\n  for (var i = 0; i < platforms.length; i++) {\n    context.strokeStyle = \"#01a502\";\n    context.lineWidth = 3\n    context.strokeRect(platforms[i].x, platforms[i].y, platforms[i].width, 50);\n    platforms[i].x -= platforms[i].speed\n    platforms[i].obstacles = Obstacle.move(context, platforms[i], i, platforms[i].popped)\n    platforms[i].powercubes = PowerCube.move(context, platforms[i], i, platforms[i].popped)\n  }\n  window.platforms = platforms;\n  return platforms\n}\n\nexport const generatePlatforms = (context) => {\n  let endoflast = platforms[platforms.length -1].x + platforms[platforms.length -1].width\n  let newplatforms = [platforms[platforms.length-3],platforms[platforms.length - 2],platforms[platforms.length - 1]].concat(PlatformArrays.platformGenerator(endoflast, platforms[platforms.length-1].id, Math.floor(difficuly)))\n\n  platforms = newplatforms\n  // PowerCube.clearpowercubes()\n  // for (var i = 0; i < platforms.length; i++) {\n  //   platforms[i].obstacles = Obstacle.init(context, platforms[i])\n  //   platforms[i].powercubes = PowerCube.init(context, platforms[i], i, \"regen\")\n  // }\n\n\n  init(context, \"regen\")\n  difficuly += 0.5\n\n}\n\nexport const clearPlatforms = () => {\n  platforms = PlatformArrays.initialPlatforms()\n  Obstacle.clearObstacles()\n  PowerCube.clearpowercubes()\n  difficuly = 3;\n  return platforms;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/platform.js\n// module id = 4\n// module chunks = 0","\nexport const initialPlatforms = () => ([\n  {x: 200, y: 230, speed: 3, obstacles: null, powercubes: null, popped: [], width: 800, id: 1},\n  {x: 1050, y: 350, speed: 3, obstacles: null, powercubes: null, popped: [], width: 800, id: 2},\n  {x: 1800, y: 300, speed: 3, obstacles: null, powercubes: null, popped: [], width: 800, id: 3},\n  {x: 2650, y: 250, speed: 3, obstacles: null, powercubes: null, popped: [], width: 800, id: 4}\n])\n\n// Level things\n\nexport const platformGenerator = (endoflast, id, diff) => {\n\nlet platforms = [\n  [\n  {x: (endoflast + 50), y: 230, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+1},\n  {x: (endoflast + 900), y: 350, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+2},\n  {x: (endoflast + 900), y: 200, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+3},\n  {x: (endoflast + 1750), y: 260, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+4}\n  ],[\n  {x: (endoflast + 60), y: 230, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+1},\n  {x: (endoflast + 910), y: 350, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+2},\n  {x: (endoflast + 1680), y: 300, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+3},\n  {x: (endoflast + 2430), y: 250, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+4}\n  ],[\n  {x: (endoflast + 50), y: 230, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+1},\n  {x: (endoflast + 70), y: 0, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+2},\n  {x: (endoflast + 820), y: 200, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+3},\n  {x: (endoflast + 1650), y: 150, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+4}\n  ],[\n  {x: (endoflast + 90), y: 360, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+1},\n  {x: (endoflast + 30), y: 140, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+2},\n  {x: (endoflast + 920), y: 280, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+3},\n  {x: (endoflast + 1650), y: 220  , speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+4}\n  ],[\n  {x: (endoflast + 90), y: 360, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+1},\n  {x: (endoflast + 30), y: 140, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+2},\n  {x: (endoflast + 70), y: 250, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+3},\n  {x: (endoflast + 900), y: 220, speed: diff, obstacles: null, powercubes: null, popped: [], width: widthGenerator(), id: id+4}\n  ]\n]\n\n\nreturn platforms[Math.floor(Math.random()*platforms.length)].slice(0);\n\n}\n\nexport const widthGenerator = () => (\n  Math.floor(Math.random() * (800 - 700 + 1)) + 700\n)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/platform-arrays.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}